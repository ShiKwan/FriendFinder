<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Tables Page</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Chosen -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

</head>

<body>

    <div class="container">

        <div class="jumbotron">
            <h1 class="text-center">
                <span class="glyphicon glyphicon-fire"></span> Friend Finder</h1>
            <hr>
            <h2 class="text-center">Fill out the survey and leave the rest to us! We will find your best companion!</h2>
            <br>

            <div class="text-center">
                <a href="/view">
                    <button type="button" class="btn btn-lg btn-primary">
                        <span class="glyphicon glyphicon-list-alt"></span> View Friends</button>
                </a>
                <a href="/survey">
                    <button type="button" class="btn btn-lg btn-danger">
                        <span class="glyphicon glyphicon-credit-card"></span>Survey</button>
                </a>
            </div>

        </div>
        <div class="row">
            <div class="col-lg-12">
        
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">Survey</h4>
                    </div>
                    <div class="panel-body">
        
                        <form role="form">
        
                            <div class="form-group">
                                <label for="txtUserName">Name</label>
                                <input type="text" class="form-control" id="txtUserName">
                            </div>

                            <div class="form-group">
                                <label for="txtUserPhoto">Photo</label>
                                <input type="text" class="form-control" id="txtUserPhoto">
                            </div>
                            
                            <div class="form-group">
                                <label>Sex</label>
                                <select class="ddl-survey sex">
                                    <option></option>
                                    <option value="male">male</option>
                                    <option value="female">female</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Looking for .. </label>
                                <select class="ddl-survey looking-for">
                                    <option></option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <h4>Question 1</h4>
                                <label>Your mind is always buzzing with unexplored ideas and plans</label>
                                <!-- Single button -->
                                <br />
                                <select data-placeholder="Select a value..." class="ddl-survey q1">
                                    <option></option>
                                    <option value="1">
                                        1 (Strongly Disagree)
                                    </option>  
                                    <option value="2">
                                        2
                                    </option>
                                    <option value="3">
                                        3
                                    </option>
                                    <option value="4">
                                        4
                                    </option>
                                    <option value="5">
                                        5 (Strongly Agree)
                                    </option>
                                </select>
                            </div>

                            <div class="form-group">
                                <h4>Question 2</h4>
                                <label>Generally speaking, you rely more on your experience than your imagination.</label>
                                <br />
                                <select data-placeholder="Select a value..." class="ddl-survey q2">
                                    <option></option>
                                    <option value="1">
                                        1 (Strongly Disagree)
                                    </option>
                                    <option value="2">
                                        2
                                    </option>
                                    <option value="3">
                                        3
                                    </option>
                                    <option value="4">
                                        4
                                    </option>
                                    <option value="5">
                                        5 (Strongly Agree)
                                    </option>
                                </select>
                            </div>

                            <div class="form-group">
                                <h4>Question 3</h4>
                                <label>You find it easy to stay relaxed and focused even when there is some pressure.</label>
                                <br />
                                <select data-placeholder="Select a value..." class="ddl-survey q3">
                                    <option></option>
                                    <option value="1">
                                        1 (Strongly Disagree)
                                    </option>
                                    <option value="2">
                                        2
                                    </option>
                                    <option value="3">
                                        3
                                    </option>
                                    <option value="4">
                                        4
                                    </option>
                                    <option value="5">
                                        5 (Strongly Agree)
                                    </option>
                                </select>
                            </div>

                            <div class="form-group">
                                <h4>Question 4</h4>
                                <label>You rarely do something just out of sheer curiosity.</label>
                                <br />
                                <select data-placeholder="Select a value..." class="ddl-survey q4">
                                    <option></option>
                                    <option value="1">
                                        1 (Strongly Disagree)
                                    </option>
                                    <option value="2">
                                        2
                                    </option>
                                    <option value="3">
                                        3
                                    </option>
                                    <option value="4">
                                        4
                                    </option>
                                    <option value="5">
                                        5 (Strongly Agree)
                                    </option>
                                </select>
                            </div>

                            <div class="form-group">
                                <h4>Question 5</h4>
                                <label>People can rarely upset you.</label>
                                <br />
                                <select data-placeholder="Select a value..." class="ddl-survey q5">
                                    <option></option>
                                    <option value="1">
                                        1 (Strongly Disagree)
                                    </option>
                                    <option value="2">
                                        2
                                    </option>
                                    <option value="3">
                                        3
                                    </option>
                                    <option value="4">
                                        4
                                    </option>
                                    <option value="5">
                                        5 (Strongly Agree)
                                    </option>
                                </select>
                            </div>

                            <div class="form-group">
                                <h4>Question 6</h4>
                                <label>It is often difficult for you to relate to other peopleâ€™s feelings</label>
                                <br />
                                <select data-placeholder="Select a value..." class="ddl-survey q6">
                                    <option></option>
                                    <option value="1">
                                        1 (Strongly Disagree)
                                    </option>
                                    <option value="2">
                                        2
                                    </option>
                                    <option value="3">
                                        3
                                    </option>
                                    <option value="4">
                                        4
                                    </option>
                                    <option value="5">
                                        5 (Strongly Agree)
                                    </option>
                                </select>
                            </div>

                            <div class="form-group">
                                <h4>Question 7</h4>
                                <label>In a discussion, truth should be more important than peopleâ€™s sensitivities.</label>
                                <br />
                                <select data-placeholder="Select a value..." class="ddl-survey q7">
                                    <option></option>
                                    <option value="1">
                                        1 (Strongly Disagree)
                                    </option>
                                    <option value="2">
                                        2
                                    </option>
                                    <option value="3">
                                        3
                                    </option>
                                    <option value="4">
                                        4
                                    </option>
                                    <option value="5">
                                        5 (Strongly Agree)
                                    </option>
                                </select>
                            </div>

                            <div class="form-group">
                                <h4>Question 8</h4>
                                <label>You rarely get carried away by fantasies and ideas.</label>
                                <br />
                                <select data-placeholder="Select a value..." class="ddl-survey q8">
                                    <option></option>
                                    <option value="1">
                                        1 (Strongly Disagree)
                                    </option>
                                    <option value="2">
                                        2
                                    </option>
                                    <option value="3">
                                        3
                                    </option>
                                    <option value="4">
                                        4
                                    </option>
                                    <option value="5">
                                        5 (Strongly Agree)
                                    </option>
                                </select>
                            </div>

                            <div class="form-group">
                                <h4>Question 9</h4>
                                <label>You think that everyoneâ€™s views should be respected regardless of whether they are supported by facts or not.</label>
                                <br />
                                <select data-placeholder="Select a value..." class="ddl-survey q9">
                                    <option></option>
                                    <option value="1">
                                        1 (Strongly Disagree)
                                    </option>
                                    <option value="2">
                                        2
                                    </option>
                                    <option value="3">
                                        3
                                    </option>
                                    <option value="4">
                                        4
                                    </option>
                                    <option value="5">
                                        5 (Strongly Agree)
                                    </option>
                                </select>
                            </div>

                            <div class="form-group">
                                <h4>Question 10</h4>
                                <label>You feel more energetic after spending time with a group of people.</label>
                                <br />
                                <select data-placeholder="Select a value..." class="ddl-survey q10">
                                    <option></option>
                                    <option value="1">
                                        1 (Strongly Disagree)
                                    </option>
                                    <option value="2">
                                        2
                                    </option>
                                    <option value="3">
                                        3
                                    </option>
                                    <option value="4">
                                        4
                                    </option>
                                    <option value="5">
                                        5 (Strongly Agree)
                                    </option>
                                </select>
                            </div>        
                            <button type="submit" class="btn btn-primary submit">Submit</button>
                        </form>
        
                    </div>
                </div>
        
            </div>
        </div>
        <footer class="footer">
            <div class="container">
                <p>
                    <a href="/api/male">API Male Users</a> |
                    <a href="/api/female">API Female Users</a> |
                    <a href="https://github.com/ShiKwan/FriendFinder">GitHub Repo</a>
                </p>
            </div>
        </footer>

    </div>

    <script type="text/javascript">
        $(".ddl-survey").chosen({width: "95%"});
        
        $(".submit").click(function () {
            event.preventDefault();
            var newSurvey = {
                name: $("#txtUserName").val().trim(),
                shownName : $("#txtUserName").val().trim().replace(/\s+/g, "").toLowerCase(),
                pic: $("#txtUserPhoto").val().trim(),
                sex : $(".sex").chosen().val(),
                lookingFor : $(".looking-for").chosen().val(),
                q1 : $(".q1").chosen().val(),
                q2 : $(".q2").chosen().val(),
                q3 : $(".q3").chosen().val(),
                q4 : $(".q4").chosen().val(),
                q5 : $(".q5").chosen().val(),
                q6 : $(".q6").chosen().val(),
                q7 : $(".q7").chosen().val(),
                q8 : $(".q8").chosen().val(),
                q9 : $(".q9").chosen().val(),
                q10 : $(".q10").chosen().val()};
            
            console.log(newSurvey);

            if(newSurvey.sex === "male"){
                console.log("adding user to male pool");
                $.post("/api/addMale", newSurvey).then(function(data){
                    console.log(data);
                    alert("added users to male section, and we are looking for your best companion...");
                })
            }else{
                console.log("adding user to female pool");
                $.post("/api/addFemale", newSurvey).then(function(data){
                    console.log(data);
                    alert("added users to female section, and we are looking for your best companion...");
                })
            }
        })
    </script>


</body>

</html>